{erl_opts, [{parse_transform, lager_transform}, debug_info, {i, "./_build/default/lib/gpb/include"}]}.
{deps, [
    {lager, "3.6.1"}, 
    {gpb, "4.1.3"},
    {jun, "0.1.5"},
    {syn, "1.6.3"}
]}.
{pre_hooks, [
    {compile, "mkdir -p include"}, %% ensure the include dir exists
    {compile, "`pwd`/_build/default/lib/gpb/bin/protoc-erl -I`pwd`/proto"
        " -o-erl src -o-hrl include `pwd`/proto/*.proto"}
]}.
{post_hooks, [
    {clean, "bash -c 'for f in proto/*.proto; "
        "do "
        "  rm -f src/$(basename $f .proto).erl; "
        "  rm -f include/$(basename $f .proto).hrl; "
        "done'"}
]}.
{ct_opts, []}.
{cover_enabled, false}.
{cover_opts, [verbose]}.
{ct_extra_params, "--erl_args -smp enable -boot start_ssl"}.
{plugins, [rebar3_hex]}.
